{"version":3,"sources":["main.js"],"names":["yyy","document","getElementById","context","getContext","autoSetCanvas","listenToUser","eraserEnabled","pen","onclick","classList","add","eraser","remove","red","fillStyle","strokeStyle","green","blue","clear","clearRect","width","height","save","url","toDataURL","a","createElement","href","target","download","body","appendChild","click","canvas","setSize","window","onresize","pageWidth","documentElement","clientWidth","pageHeight","clientHeight","lineCap","lineWidth","drawLine","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","closePath","using","lastPoint","x","undefined","y","ontouchstart","aaa","touches","clientX","clientY","ontouchmove","newPoint","ontouchend","onmousedown","onmousemove","onmouseup"],"mappings":"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","file":"main.63c2a3b9.js","sourceRoot":"..\\src","sourcesContent":["var yyy = document.getElementById(\"xxx\");\r\nvar context = yyy.getContext(\"2d\");\r\n\r\nautoSetCanvas(yyy);\r\n\r\nlistenToUser(yyy);\r\n\r\n/**************************/\r\n\r\nvar eraserEnabled = false;\r\npen.onclick = function () {\r\n  eraserEnabled = false;\r\n  pen.classList.add(\"active\");\r\n  eraser.classList.remove(\"active\");\r\n};\r\neraser.onclick = function () {\r\n  eraserEnabled = true;\r\n  eraser.classList.add(\"active\");\r\n  pen.classList.remove(\"active\");\r\n};\r\nred.onclick = function () {\r\n  context.fillStyle = \"red\";\r\n  context.strokeStyle = \"red\";\r\n  red.classList.add(\"active\");\r\n  green.classList.remove(\"active\");\r\n  blue.classList.remove(\"active\");\r\n};\r\ngreen.onclick = function () {\r\n  context.fillStyle = \"green\";\r\n  context.strokeStyle = \"green\";\r\n  green.classList.add(\"active\");\r\n  red.classList.remove(\"active\");\r\n  blue.classList.remove(\"active\");\r\n};\r\nblue.onclick = function () {\r\n  context.fillStyle = \"blue\";\r\n  context.strokeStyle = \"blue\";\r\n  blue.classList.add(\"active\");\r\n  red.classList.remove(\"active\");\r\n  green.classList.remove(\"active\");\r\n};\r\nclear.onclick = function () {\r\n  context.clearRect(0, 0, yyy.width, yyy.height);\r\n};\r\nsave.onclick = function () {\r\n  var url = yyy.toDataURL(\"image/png\");\r\n  var a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.target = \"_blank\";\r\n  a.download = \"我的画\";\r\n  document.body.appendChild(a);\r\n  a.click();\r\n};\r\n\r\n/********************************/\r\n\r\nfunction autoSetCanvas(canvas) {\r\n  setSize();\r\n\r\n  window.onresize = function () {\r\n    setSize();\r\n  };\r\n\r\n  function setSize() {\r\n    var pageWidth = document.documentElement.clientWidth;\r\n    var pageHeight = document.documentElement.clientHeight;\r\n    canvas.width = pageWidth;\r\n    canvas.height = pageHeight;\r\n    context.lineCap = \"round\";\r\n    context.fillStyle = \"red\";\r\n    context.strokeStyle = \"red\";\r\n    context.lineWidth = 5;\r\n  }\r\n}\r\n\r\nfunction drawLine(x1, y1, x2, y2) {\r\n  context.beginPath();\r\n  context.moveTo(x1, y1); //起点\r\n  context.lineTo(x2, y2); //终点\r\n  context.stroke();\r\n  context.closePath();\r\n}\r\n\r\nfunction listenToUser(canvas) {\r\n  var using = false;\r\n  var lastPoint = {\r\n    x: undefined,\r\n    y: undefined,\r\n  };\r\n\r\n  if (document.body.ontouchstart !== undefined) {\r\n    //触控设备\r\n    canvas.ontouchstart = function (aaa) {\r\n      var x = aaa.touches[0].clientX;\r\n      var y = aaa.touches[0].clientY;\r\n      using = true;\r\n      if (eraserEnabled) {\r\n        context.clearRect(x, y, 10, 10);\r\n      } else {\r\n        lastPoint = {\r\n          x: x,\r\n          y: y,\r\n        };\r\n      }\r\n    };\r\n\r\n    canvas.ontouchmove = function (aaa) {\r\n      var x = aaa.touches[0].clientX;\r\n      var y = aaa.touches[0].clientY;\r\n      var newPoint = {\r\n        x: x,\r\n        y: y,\r\n      };\r\n      if (using) {\r\n        if (eraserEnabled) {\r\n          context.clearRect(x - 10, y - 10, 20, 20);\r\n        } else {\r\n          drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\r\n          lastPoint = newPoint;\r\n        }\r\n      }\r\n    };\r\n\r\n    canvas.ontouchend = function (aaa) {\r\n      using = false;\r\n    };\r\n  } else {\r\n    //非触控设备\r\n    canvas.onmousedown = function (aaa) {\r\n      var x = aaa.clientX;\r\n      var y = aaa.clientY;\r\n      using = true;\r\n      if (eraserEnabled) {\r\n        context.clearRect(x, y, 10, 10);\r\n      } else {\r\n        lastPoint = {\r\n          x: x,\r\n          y: y,\r\n        };\r\n      }\r\n    };\r\n\r\n    canvas.onmousemove = function (aaa) {\r\n      var x = aaa.clientX;\r\n      var y = aaa.clientY;\r\n      var newPoint = {\r\n        x: x,\r\n        y: y,\r\n      };\r\n      if (using) {\r\n        if (eraserEnabled) {\r\n          context.clearRect(x - 10, y - 10, 20, 20);\r\n        } else {\r\n          drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\r\n          lastPoint = newPoint;\r\n        }\r\n      }\r\n    };\r\n\r\n    canvas.onmouseup = function (aaa) {\r\n      using = false;\r\n    };\r\n  }\r\n}\r\n"]}